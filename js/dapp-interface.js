(()=>{var e,t={5413:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*c+1>>>0,u=new Uint8Array(o);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var f=0,d=o-1;(0!==l||f<i)&&-1!==d;d--,f++)l+=s*u[d]>>>0,u[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=f,r++}for(var h=o-i;h!==o&&0===u[h];)h++;for(var p=new Uint8Array(n+(o-h)),y=n;h!==o;)p[y++]=u[h++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var c=(o-i)*u+1>>>0,l=new Uint8Array(c);i!==o;){for(var f=t[i],d=0,h=c-1;(0!==f||d<n)&&-1!==h;h--,d++)f+=256*l[h]>>>0,l[h]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");n=d,i++}for(var p=c-n;p!==c&&0===l[p];)p++;for(var y=a.repeat(r);p<c;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},8009:(e,t,r)=>{const n=r(5413);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(e="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"24.5.21.0"},e.SENTRY_RELEASES=e.SENTRY_RELEASES||{},e.SENTRY_RELEASES["wallet@mysten-labs"]={id:"24.5.21.0"},(()=>{"use strict";var e;class t extends Event{constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),e.set(this,void 0),function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===n?i.call(e,r):i?i.value=r:t.set(e,r)}(this,e,t,"f")}get detail(){return function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}(this,e,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}e=new WeakMap;const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i;const o=new Uint8Array(16);function s(){if(!i&&(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)}const a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));const c=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();const i=(e=e||{}).random||(e.rng||s)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return function(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}(i)};var u=function(e,t){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},u(e,t)};function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function f(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function p(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function y(e){return this instanceof y?(this.v=e,this):new y(e)}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var m=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function g(e){return"function"==typeof e}function w(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var v=w((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function b(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var T=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,r,n,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=d(o),a=s.next();!a.done;a=s.next())a.value.remove(this)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(g(c))try{c()}catch(e){i=e instanceof v?e.errors:[e]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var l=d(u),f=l.next();!f.done;f=l.next()){var y=f.value;try{M(y)}catch(e){i=null!=i?i:[],e instanceof v?i=p(p([],h(i)),h(e.errors)):i.push(e)}}}catch(e){r={error:e}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}if(i)throw new v(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)M(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&b(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&b(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),S=T.EMPTY;function E(e){return e instanceof T||e&&"closed"in e&&g(e.remove)&&g(e.add)&&g(e.unsubscribe)}function M(e){g(e)?e():e.unsubscribe()}var x={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},j={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=j.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,p([e,t],h(r))):setTimeout.apply(void 0,p([e,t],h(r)))},clearTimeout:function(e){var t=j.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function A(e){j.setTimeout((function(){var t=x.onUnhandledError;if(!t)throw e;t(e)}))}function I(){}var z=N("C",void 0,void 0);function N(e,t,r){return{kind:e,value:t,error:r}}var O=null;function k(e){if(x.useDeprecatedSynchronousErrorHandling){var t=!O;if(t&&(O={errorThrown:!1,error:null}),e(),t){var r=O,n=r.errorThrown,i=r.error;if(O=null,n)throw i}}else e()}var U=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,E(t)&&t.add(r)):r.destination=L,r}return l(t,e),t.create=function(e,t,r){return new P(e,t,r)},t.prototype.next=function(e){this.isStopped?C(function(e){return N("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?C(N("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?C(z,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(T),D=Function.prototype.bind;function _(e,t){return D.call(e,t)}var B=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){$(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){$(e)}else $(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){$(e)}},e}(),P=function(e){function t(t,r,n){var i,o,s=e.call(this)||this;return g(t)||!t?i={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:s&&x.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&_(t.next,o),error:t.error&&_(t.error,o),complete:t.complete&&_(t.complete,o)}):i=t,s.destination=new B(i),s}return l(t,e),t}(U);function $(e){var t;x.useDeprecatedSynchronousErrorHandling?(t=e,x.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=t)):A(e)}function C(e,t){var r=x.onStoppedNotification;r&&j.setTimeout((function(){return r(e,t)}))}var L={closed:!0,next:I,error:function(e){throw e},complete:I},R="function"==typeof Symbol&&Symbol.observable||"@@observable";function V(e){return e}var W=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,i=this,o=(n=e)&&n instanceof U||function(e){return e&&g(e.next)&&g(e.error)&&g(e.complete)}(n)&&E(n)?e:new P(e,t,r);return k((function(){var e=i,t=e.operator,r=e.source;o.add(t?t.call(o,r):r?i._subscribe(o):i._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=Q(t))((function(t,n){var i=new P({next:function(t){try{e(t)}catch(e){n(e),i.unsubscribe()}},error:n,complete:t});r.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[R]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(r=e).length?V:1===r.length?r[0]:function(e){return r.reduce((function(e,t){return t(e)}),e)})(this);var r},e.prototype.toPromise=function(e){var t=this;return new(e=Q(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function Q(e){var t;return null!==(t=null!=e?e:x.Promise)&&void 0!==t?t:Promise}var G="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Y(e){if(e instanceof W)return e;if(null!=e){if(function(e){return g(e[R])}(e))return i=e,new W((function(e){var t=i[R]();if(g(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(m(e))return function(e){return new W((function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()}))}(e);if(g(null==(n=e)?void 0:n.then))return r=e,new W((function(e){r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,A)}));if(function(e){return Symbol.asyncIterator&&g(null==e?void 0:e[Symbol.asyncIterator])}(e))return K(e);if(function(e){return g(null==e?void 0:e[G])}(e))return t=e,new W((function(e){var r,n;try{for(var i=d(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()}));if(function(e){return g(null==e?void 0:e.getReader)}(e))return K(function(e){return function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=i[e](t)).value instanceof y?Promise.resolve(r.value.v).then(c,u):l(o[0][2],r)}catch(e){l(o[0][3],e)}var r}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,(function(){var t,r,n;return f(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,y(t.read())];case 3:return r=i.sent(),n=r.value,r.done?[4,y(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,y(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e))}var t,r,n,i;throw function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}function K(e){return new W((function(t){(function(e,t){var r,n,i,o,s,a,c,u;return s=this,a=void 0,u=function(){var s,a;return f(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=d(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,i,(t=e[r](t)).done,t.value)}))}}}(e),c.label=1;case 1:return[4,r.next()];case 2:if((n=c.sent()).done)return[3,4];if(s=n.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))},new((c=void 0)||(c=Promise))((function(e,t){function r(e){try{i(u.next(e))}catch(e){t(e)}}function n(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof c?i:new c((function(e){e(i)}))).then(r,n)}i((u=u.apply(s,a||[])).next())}))})(e,t).catch((function(e){return t.error(e)}))}))}function F(e){return function(t){if(function(e){return g(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function q(e,t,r,n,i){return new Z(e,t,r,n,i)}var Z=function(e){function t(t,r,n,i,o,s){var a=e.call(this,t)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return l(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(U);function H(e,t){return F((function(r,n){var i=0;r.subscribe(q(n,(function(r){n.next(e.call(t,r,i++))})))}))}function J(e,t,r){return void 0===r&&(r=1/0),g(t)?J((function(r,n){return H((function(e,i){return t(r,e,n,i)}))(Y(e(r,n)))}),r):("number"==typeof t&&(r=t),F((function(t,n){return function(e,t,r,n,i,o,s,a){var c=[],u=0,l=0,f=!1,d=function(){!f||c.length||u||t.complete()},h=function(e){return u<n?p(e):c.push(e)},p=function(e){u++;var i=!1;Y(r(e,l++)).subscribe(q(t,(function(e){t.next(e)}),(function(){i=!0}),void 0,(function(){if(i)try{u--;for(var e=function(){var e=c.shift();p(e)};c.length&&u<n;)e();d()}catch(e){t.error(e)}})))};return e.subscribe(q(t,h,(function(){f=!0,d()}))),function(){}}(t,n,e,r)})))}var X=Array.isArray;var ee=["addListener","removeListener"],te=["addEventListener","removeEventListener"],re=["on","off"];function ne(e,t,r,n){if(g(r)&&(n=r,r=void 0),n)return ne(e,t,r).pipe((i=n,H((function(e){return function(e,t){return X(t)?e.apply(void 0,p([],h(t))):e(t)}(i,e)}))));var i,o=h(function(e){return g(e.addEventListener)&&g(e.removeEventListener)}(e)?te.map((function(n){return function(i){return e[n](t,i,r)}})):function(e){return g(e.addListener)&&g(e.removeListener)}(e)?ee.map(ie(e,t)):function(e){return g(e.on)&&g(e.off)}(e)?re.map(ie(e,t)):[],2),s=o[0],a=o[1];if(!s&&m(e))return J((function(e){return ne(e,t,r)}))(Y(e));if(!s)throw new TypeError("Invalid event target");return new W((function(e){var t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1<t.length?t:t[0])};return s(t),function(){return a(t)}}))}function ie(e,t){return function(r){return function(n){return e[r](t,n)}}}function oe(e,t){return F((function(r,n){var i=0;r.subscribe(q(n,(function(r){return e.call(t,r,i++)&&n.next(r)})))}))}var se=w((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),ae=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return l(t,e),t.prototype.lift=function(e){var t=new ce(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new se},t.prototype.next=function(e){var t=this;k((function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=d(t.currentObservers),o=i.next();!o.done;o=i.next())o.value.next(e)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}}))},t.prototype.error=function(e){var t=this;k((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}}))},t.prototype.complete=function(){var e=this;k((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,n=r.hasError,i=r.isStopped,o=r.observers;return n||i?S:(this.currentObservers=null,o.push(e),new T((function(){t.currentObservers=null,b(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,i=t.isStopped;r?e.error(n):i&&e.complete()},t.prototype.asObservable=function(){var e=new W;return e.source=this,e},t.create=function(e,t){return new ce(e,t)},t}(W),ce=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return l(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:S},t}(ae);function ue(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!0!==t){if(!1!==t){var i=new P({next:function(){i.unsubscribe(),e()}});return Y(t.apply(void 0,p([],h(r)))).subscribe(i)}}else e()}class le{constructor(e,t){if(e===t)throw new Error("[WindowMessageStream] name and target must be different");this._name=e,this._target=t,this.messages=ne(window,"message").pipe(oe((e=>e.source===window&&e.data.target===this._name)),H((e=>e.data.payload)),function(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new ae}:t,n=e.resetOnError,i=void 0===n||n,o=e.resetOnComplete,s=void 0===o||o,a=e.resetOnRefCountZero,c=void 0===a||a;return function(e){var t,n,o,a=0,u=!1,l=!1,f=function(){null==n||n.unsubscribe(),n=void 0},d=function(){f(),t=o=void 0,u=l=!1},h=function(){var e=t;d(),null==e||e.unsubscribe()};return F((function(e,p){a++,l||u||f();var y=o=null!=o?o:r();p.add((function(){0!=--a||l||u||(n=ue(h,c))})),y.subscribe(p),!t&&a>0&&(t=new P({next:function(e){return y.next(e)},error:function(e){l=!0,f(),n=ue(d,i,e),y.error(e)},complete:function(){u=!0,f(),n=ue(d,s),y.complete()}}),Y(e).subscribe(t))}))(e)}}())}send(e){const t={target:this._target,payload:e};window.postMessage(t)}}const fe=["viewAccount","suggestTransactions"];var de;function he(e){return"type"in e&&void 0!==e.type}!function(e){e.mainnet="mainnet",e.devNet="devNet",e.testNet="testNet",e.local="local",e.customRPC="customRPC"}(de||(de={})),de.local,de.testNet,de.devNet,de.mainnet,de.customRPC,de.customRPC,de.local,de.devNet,de.testNet,de.mainnet;var pe=n(8009),ye=n.n(pe);const me=e=>ye().encode(e),ge=e=>ye().decode(e);function we(e){return Uint8Array.from(atob(e),(e=>e.charCodeAt(0)))}const ve=8192;function be(e){if(e.length<ve)return btoa(String.fromCharCode(...e));let t="";for(var r=0;r<e.length;r+=ve){const n=e.slice(r,r+ve);t+=String.fromCharCode(...n)}return btoa(t)}function Te(e){const t=e.startsWith("0x")?e.slice(2):e,r=t.length%2==0?t:`0${t}}`,n=r.match(/.{2}/g)?.map((e=>parseInt(e,16)))??[];return Uint8Array.from(n)}function Se(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}function Ee(e){let t=[],r=0;if(0===e)return[0];for(;e>0;)t[r]=127&e,(e>>=7)&&(t[r]|=128),r+=1;return t}class Me{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),t=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+t).toString(10)}read128(){let e=BigInt(this.read64()),t=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+t).toString(10)}read256(){let e=BigInt(this.read128()),t=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+t).toString(10)}readBytes(e){let t=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),r}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:r,length:n}=function(e){let t=0,r=0,n=0;for(;;){let i=e[n];if(n+=1,t|=(127&i)<<r,0==(128&i))break;r+=7}return{value:t,length:n}}(t);return this.shift(n),r}readVec(e){let t=this.readULEB(),r=[];for(let n=0;n<t;n++)r.push(e(this,n,t));return r}}function xe(e,t=["<",">"]){const[r,n]=t,i=[];let o="",s=0;for(let t=0;t<e.length;t++){const a=e[t];a===r&&s++,a===n&&s--,0!==s||","!==a?o+=a:(i.push(o.trim()),o="")}return i.push(o.trim()),i}class je{constructor({size:e=1024,maxSize:t,allocateSize:r=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t||e,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){const t=this.bytePosition+e;if(t>this.size){const e=Math.min(this.maxSize,this.size+this.allocateSize);if(t>e)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=e;const r=new ArrayBuffer(this.size);new Uint8Array(r).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(r)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return Ae(BigInt(e),8).forEach((e=>this.write8(e))),this}write128(e){return Ae(BigInt(e),16).forEach((e=>this.write8(e))),this}write256(e){return Ae(BigInt(e),32).forEach((e=>this.write8(e))),this}writeULEB(e){return Ee(e).forEach((e=>this.write8(e))),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach(((r,n)=>t(this,r,n,e.length))),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return function(e,t){switch(t){case"base58":return me(e);case"base64":return be(e);case"hex":return Se(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}(this.toBytes(),e)}}function Ae(e,t){let r=new Uint8Array(t),n=0;for(;e>0;)r[n]=Number(e%BigInt(256)),e/=BigInt(256),n+=1;return r}var Ie,ze,Ne,Oe,ke=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},Ue=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class De{constructor(e){Ie.set(this,void 0),ze.set(this,void 0),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),ke(this,Ie,e.write,"f"),ke(this,ze,e.serialize??((e,t)=>{const r=new je({size:this.serializedSize(e)??void 0,...t});return Ue(this,Ie,"f").call(this,e,r),r.toBytes()}),"f"),this.validate=e.validate??(()=>{})}write(e,t){this.validate(e),Ue(this,Ie,"f").call(this,e,t)}serialize(e,t){return this.validate(e),new Be(this,Ue(this,ze,"f").call(this,e,t))}parse(e){const t=new Me(e);return this.read(t)}transform({name:e,input:t,output:r}){return new De({name:e??this.name,read:e=>r(this.read(e)),write:(e,r)=>Ue(this,Ie,"f").call(this,t(e),r),serializedSize:e=>this.serializedSize(t(e)),serialize:(e,r)=>Ue(this,ze,"f").call(this,t(e),r),validate:e=>this.validate(t(e))})}}Ie=new WeakMap,ze=new WeakMap;const _e=Symbol.for("@mysten/serialized-bcs");class Be{get[(Ne=new WeakMap,Oe=new WeakMap,_e)](){return!0}constructor(e,t){Ne.set(this,void 0),Oe.set(this,void 0),ke(this,Ne,e,"f"),ke(this,Oe,t,"f")}toBytes(){return Ue(this,Oe,"f")}toHex(){return Se(Ue(this,Oe,"f"))}toBase64(){return be(Ue(this,Oe,"f"))}toBase58(){return me(Ue(this,Oe,"f"))}parse(){return Ue(this,Ne,"f").parse(Ue(this,Oe,"f"))}}function Pe({size:e,...t}){return new De({...t,serializedSize:()=>e})}function $e({readMethod:e,writeMethod:t,...r}){return Pe({...r,read:t=>t[e](),write:(e,r)=>r[t](e),validate:e=>{if(e<0||e>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${e}. Expected value in range 0-${r.maxValue}`);r.validate?.(e)}})}function Ce({readMethod:e,writeMethod:t,...r}){return Pe({...r,read:t=>t[e](),write:(e,r)=>r[t](BigInt(e)),validate:e=>{const t=BigInt(e);if(t<0||t>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${t}. Expected value in range 0-${r.maxValue}`);r.validate?.(t)}})}class Le extends TypeError{constructor(e,t){let r;const{message:n,explanation:i,...o}=e,{path:s}=e,a=0===s.length?n:`At path: ${s.join(".")} -- ${n}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function Re(e){return"object"==typeof e&&null!=e}function Ve(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function We(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:s}=r,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Ve(n)}\``}=e;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*Qe(e,t,r,n){var i;Re(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]);for(const i of e){const e=We(i,t,r,n);e&&(yield e)}}function*Ge(e,t,r={}){const{path:n=[],branch:i=[e],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i};if(o&&(e=t.coercer(e,a),s&&"type"!==t.type&&Re(t.schema)&&Re(e)&&!Array.isArray(e)))for(const r in e)void 0===t.schema[r]&&delete e[r];let c="valid";for(const n of t.validator(e,a))n.explanation=r.message,c="not_valid",yield[n,void 0];for(let[u,l,f]of t.entries(e,a)){const t=Ge(l,f,{path:void 0===u?n:[...n,u],branch:void 0===u?i:[...i,l],coerce:o,mask:s,message:r.message});for(const r of t)r[0]?(c=null!=r[0].refinement?"not_refined":"not_valid",yield[r[0],void 0]):o&&(l=r[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):Re(e)&&(void 0!==l||u in e)&&(e[u]=l))}if("not_valid"!==c)for(const n of t.refiner(e,a))n.explanation=r.message,c="not_refined",yield[n,void 0];"valid"===c&&(yield[void 0,e])}class Ye{constructor(e){const{type:t,schema:r,validator:n,refiner:i,coercer:o=(e=>e),entries:s=function*(){}}=e;this.type=t,this.schema=r,this.entries=s,this.coercer=o,this.validator=n?(e,t)=>Qe(n(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>Qe(i(e,t),t,this,e):()=>[]}assert(e,t){return function(e,t,r){const n=qe(e,t,{message:r});if(n[0])throw n[0]}(e,this,t)}create(e,t){return Ke(e,this,t)}is(e){return Fe(e,this)}mask(e,t){return function(e,t,r){const n=qe(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}(e,this,t)}validate(e,t={}){return qe(e,this,t)}}function Ke(e,t,r){const n=qe(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Fe(e,t){return!qe(e,t)[0]}function qe(e,t,r={}){const n=Ge(e,t,r),i=function(e){const{done:t,value:r}=e.next();return t?void 0:r}(n);return i[0]?[new Le(i[0],(function*(){for(const e of n)e[0]&&(yield e[0])})),void 0]:[void 0,i[1]]}function Ze(e,t){return new Ye({type:e,schema:null,validator:t})}function He(){return Ze("any",(()=>!0))}function Je(e){return new Ye({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${Ve(e)}`})}function Xe(){return Ze("integer",(e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Ve(e)}`))}function et(e){const t=Ve(e),r=typeof e;return new Ye({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${Ve(r)}`})}function tt(e){const t=e?Object.keys(e):[],r=Ze("never",(()=>!1));return new Ye({type:"object",schema:e||null,*entries(n){if(e&&Re(n)){const i=new Set(Object.keys(n));for(const r of t)i.delete(r),yield[r,n[r],e[r]];for(const e of i)yield[e,n[e],r]}},validator:e=>Re(e)||`Expected an object, but received: ${Ve(e)}`,coercer:e=>Re(e)?{...e}:e})}function rt(e){return new Ye({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function nt(){return Ze("string",(e=>"string"==typeof e||`Expected a string, but received: ${Ve(e)}`))}function it(e){const t=e.map((e=>e.type)).join(" | ");return new Ye({type:"union",schema:null,coercer(t){for(const r of e){const[e,n]=r.validate(t,{coerce:!0});if(!e)return n}return t},validator(r,n){const i=[];for(const t of e){const[...e]=Ge(r,t,n),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Ve(r)}`,...i]}})}class ot{tempKey(){return"bcs-struct-"+ ++this.counter}constructor(e){if(this.types=new Map,this.counter=0,e instanceof ot)return this.schema=e.schema,void(this.types=new Map(e.types));if(this.schema=e,this.registerAddressType(ot.ADDRESS,e.addressLength,e.addressEncoding),this.registerVectorType(e.vectorType),e.types&&e.types.structs)for(let t of Object.keys(e.types.structs))this.registerStructType(t,e.types.structs[t]);if(e.types&&e.types.enums)for(let t of Object.keys(e.types.enums))this.registerEnumType(t,e.types.enums[t]);if(e.types&&e.types.aliases)for(let t of Object.keys(e.types.aliases))this.registerAlias(t,e.types.aliases[t]);!1!==e.withPrimitives&&function(e){e.registerType(ot.U8,(function(e,t){return e.write8(t)}),(function(e){return e.read8()}),(e=>e<256)),e.registerType(ot.U16,(function(e,t){return e.write16(t)}),(function(e){return e.read16()}),(e=>e<65536)),e.registerType(ot.U32,(function(e,t){return e.write32(t)}),(function(e){return e.read32()}),(e=>e<=4294967296n)),e.registerType(ot.U64,(function(e,t){return e.write64(t)}),(function(e){return e.read64()})),e.registerType(ot.U128,(function(e,t){return e.write128(t)}),(function(e){return e.read128()})),e.registerType(ot.U256,(function(e,t){return e.write256(t)}),(function(e){return e.read256()})),e.registerType(ot.BOOL,(function(e,t){return e.write8(t)}),(function(e){return"1"===e.read8().toString(10)})),e.registerType(ot.STRING,(function(e,t){return e.writeVec(Array.from(t),((e,t)=>e.write8(t.charCodeAt(0))))}),(function(e){return e.readVec((e=>e.read8())).map((e=>String.fromCharCode(Number(e)))).join("")}),(e=>!0)),e.registerType(ot.HEX,(function(e,t){return e.writeVec(Array.from(Te(t)),((e,t)=>e.write8(t)))}),(function(e){let t=e.readVec((e=>e.read8()));return Se(new Uint8Array(t))})),e.registerType(ot.BASE58,(function(e,t){return e.writeVec(Array.from(ge(t)),((e,t)=>e.write8(t)))}),(function(e){let t=e.readVec((e=>e.read8()));return me(new Uint8Array(t))})),e.registerType(ot.BASE64,(function(e,t){return e.writeVec(Array.from(we(t)),((e,t)=>e.write8(t)))}),(function(e){let t=e.readVec((e=>e.read8()));return be(new Uint8Array(t))}))}(this)}ser(e,t,r){if("string"==typeof e||Array.isArray(e)){const{name:n,params:i}=this.parseTypeName(e);return this.getTypeInterface(n).encode(this,t,r,i)}if("object"==typeof e){const n=this.tempKey();return new ot(this).registerStructType(n,e).ser(n,t,r)}throw new Error(`Incorrect type passed into the '.ser()' function. \n${JSON.stringify(e)}`)}de(e,t,r){if("string"==typeof t){if(!r)throw new Error("To pass a string to `bcs.de`, specify encoding");t=function(e,t){switch(t){case"base58":return ge(e);case"base64":return we(e);case"hex":return Te(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}(t,r)}if("string"==typeof e||Array.isArray(e)){const{name:r,params:n}=this.parseTypeName(e);return this.getTypeInterface(r).decode(this,t,n)}if("object"==typeof e){const n=new ot(this),i=this.tempKey();return n.registerStructType(i,e).de(i,t,r)}throw new Error(`Incorrect type passed into the '.de()' function. \n${JSON.stringify(e)}`)}hasType(e){return this.types.has(e)}registerAlias(e,t){return this.types.set(e,t),this}registerType(e,t,r,n=(()=>!0)){const{name:i,params:o}=this.parseTypeName(e);return this.types.set(i,{encode(e,t,r,n){const i=o.reduce(((e,t,r)=>Object.assign(e,{[t]:n[r]})),{});return this._encodeRaw.call(e,new je(r),t,n,i)},decode(e,t,r){const n=o.reduce(((e,t,n)=>Object.assign(e,{[t]:r[n]})),{});return this._decodeRaw.call(e,new Me(t),r,n)},_encodeRaw(e,r,o,s){if(n(r))return t.call(this,e,r,o,s);throw new Error(`Validation failed for type ${i}, data: ${r}`)},_decodeRaw(e,t,n){return r.call(this,e,t,n)}}),this}registerBcsType(e,t){return this.registerType(e,((e,r,n)=>{const i=n.map((e=>new De({name:String(e),write:(t,r)=>{const{name:i,params:o}=this.parseTypeName(e),s=this.getTypeInterface(i),a=o.reduce(((e,t,r)=>Object.assign(e,{[t]:n[r]})),{});return s._encodeRaw.call(this,r,t,o,a)},read:()=>{throw new Error("Not implemented")}})));return t(...i).write(r,e),e}),((e,r)=>{const n=r.map((e=>new De({name:String(e),write:(e,t)=>{throw new Error("Not implemented")},read:t=>{const{name:n,params:i}=this.parseTypeName(e),o=this.getTypeInterface(n),s=i.reduce(((e,t,n)=>Object.assign(e,{[t]:r[n]})),{});return o._decodeRaw.call(this,t,i,s)}})));return t(...n).read(e)})),this}registerAddressType(e,t,r="hex"){switch(r){case"base64":return this.registerType(e,(function(e,t){return we(t).reduce(((e,t)=>e.write8(t)),e)}),(function(e){return be(e.readBytes(t))}));case"hex":return this.registerType(e,(function(e,t){return Te(t).reduce(((e,t)=>e.write8(t)),e)}),(function(e){return Se(e.readBytes(t))}));default:throw new Error("Unsupported encoding! Use either hex or base64")}}registerVectorType(e){let{name:t,params:r}=this.parseTypeName(e);if(r.length>1)throw new Error("Vector can have only one type parameter; got "+t);return this.registerType(e,(function(t,r,n,i){return t.writeVec(r,((t,r)=>{let o=n[0];if(!o)throw new Error(`Incorrect number of type parameters passed a to vector '${e}'`);let{name:s,params:a}=this.parseTypeName(o);if(this.hasType(s))return this.getTypeInterface(s)._encodeRaw.call(this,t,r,a,i);if(!(s in i))throw new Error(`Unable to find a matching type definition for ${s} in vector; make sure you passed a generic`);let{name:c,params:u}=this.parseTypeName(i[s]);return this.getTypeInterface(c)._encodeRaw.call(this,t,r,u,i)}))}),(function(t,r,n){return t.readVec((t=>{let i=r[0];if(!i)throw new Error(`Incorrect number of type parameters passed to a vector '${e}'`);let{name:o,params:s}=this.parseTypeName(i);if(this.hasType(o))return this.getTypeInterface(o)._decodeRaw.call(this,t,s,n);if(!(o in n))throw new Error(`Unable to find a matching type definition for ${o} in vector; make sure you passed a generic`);let{name:a,params:c}=this.parseTypeName(n[o]);return this.getTypeInterface(a)._decodeRaw.call(this,t,c,n)}))}))}registerStructType(e,t){for(let e in t){let r=this.tempKey(),n=t[e];Array.isArray(n)||"string"==typeof n||(t[e]=r,this.registerStructType(r,n))}let r=Object.freeze(t),n=Object.keys(r),{name:i,params:o}=this.parseTypeName(e);return this.registerType(e,(function(e,t,s,a){if(!t||t.constructor!==Object)throw new Error(`Expected ${i} to be an Object, got: ${t}`);if(s.length!==o.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${o.length}, got: ${s.length}`);for(let c of n){if(!(c in t))throw new Error(`Struct ${i} requires field ${c}:${r[c]}`);const{name:n,params:u}=this.parseTypeName(r[c]);if(o.includes(n)){const r=o.indexOf(n);let{name:u,params:l}=this.parseTypeName(s[r]);if(this.hasType(u)){this.getTypeInterface(u)._encodeRaw.call(this,e,t[c],l,a);continue}if(!(u in a))throw new Error(`Unable to find a matching type definition for ${u} in ${i}; make sure you passed a generic`);let{name:f,params:d}=this.parseTypeName(a[u]);this.getTypeInterface(f)._encodeRaw.call(this,e,t[c],d,a)}else this.getTypeInterface(n)._encodeRaw.call(this,e,t[c],u,a)}return e}),(function(e,t,s){if(t.length!==o.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${o.length}, got: ${t.length}`);let a={};for(let c of n){const{name:n,params:u}=this.parseTypeName(r[c]);if(o.includes(n)){const r=o.indexOf(n);let{name:u,params:l}=this.parseTypeName(t[r]);if(this.hasType(u)){a[c]=this.getTypeInterface(u)._decodeRaw.call(this,e,l,s);continue}if(!(u in s))throw new Error(`Unable to find a matching type definition for ${u} in ${i}; make sure you passed a generic`);let{name:f,params:d}=this.parseTypeName(s[u]);a[c]=this.getTypeInterface(f)._decodeRaw.call(this,e,d,s)}else a[c]=this.getTypeInterface(n)._decodeRaw.call(this,e,u,s)}return a}))}registerEnumType(e,t){for(let e in t){let r=this.tempKey(),n=t[e];null===n||Array.isArray(n)||"string"==typeof n||(t[e]=r,this.registerStructType(r,n))}let r=Object.freeze(t),n=Object.keys(r),{name:i,params:o}=this.parseTypeName(e);return this.registerType(e,(function(e,t,s,a){if(!t)throw new Error(`Unable to write enum "${i}", missing data.\nReceived: "${t}"`);if("object"!=typeof t)throw new Error(`Incorrect data passed into enum "${i}", expected object with properties: "${n.join(" | ")}".\nReceived: "${JSON.stringify(t)}"`);let c=Object.keys(t)[0];if(void 0===c)throw new Error(`Empty object passed as invariant of the enum "${i}"`);let u=n.indexOf(c);if(-1===u)throw new Error(`Unknown invariant of the enum "${i}", allowed values: "${n.join(" | ")}"; received "${c}"`);let l=n[u],f=r[l];if(e.write8(u),null===f)return e;let d=o.indexOf(f),h=-1===d?f:s[d];{let{name:r,params:n}=this.parseTypeName(h);return this.getTypeInterface(r)._encodeRaw.call(this,e,t[c],n,a)}}),(function(e,t,s){let a=e.readULEB(),c=n[a],u=r[c];if(-1===a)throw new Error(`Decoding type mismatch, expected enum "${i}" invariant index, received "${a}"`);if(null===u)return{[c]:!0};let l=o.indexOf(u),f=-1===l?u:t[l];{let{name:t,params:r}=this.parseTypeName(f);return{[c]:this.getTypeInterface(t)._decodeRaw.call(this,e,r,s)}}}))}getTypeInterface(e){let t=this.types.get(e);if("string"==typeof t){let e=[];for(;"string"==typeof t;){if(e.includes(t))throw new Error(`Recursive definition found: ${e.join(" -> ")} -> ${t}`);e.push(t),t=this.types.get(t)}}if(void 0===t)throw new Error(`Type ${e} is not registered`);return t}parseTypeName(e){if(Array.isArray(e)){let[t,...r]=e;return{name:t,params:r}}if("string"!=typeof e)throw new Error(`Illegal type passed as a name of the type: ${e}`);let[t,r]=this.schema.genericSeparators||["<",">"],n=e.indexOf(t),i=Array.from(e).reverse().indexOf(r);if(-1===n&&-1===i)return{name:e,params:[]};if(-1===n||-1===i)throw new Error(`Unclosed generic in name '${e}'`);return{name:e.slice(0,n),params:xe(e.slice(n+1,e.length-i-1),this.schema.genericSeparators)}}}ot.U8="u8",ot.U16="u16",ot.U32="u32",ot.U64="u64",ot.U128="u128",ot.U256="u256",ot.BOOL="bool",ot.VECTOR="vector",ot.ADDRESS="address",ot.STRING="string",ot.HEX="hex-string",ot.BASE58="base58-string",ot.BASE64="base64-string";const st={u8:e=>$e({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:255,...e}),u16:e=>$e({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:65535,...e}),u32:e=>$e({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...e}),u64:e=>Ce({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...e}),u128:e=>Ce({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...e}),u256:e=>Ce({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...e}),bool:e=>Pe({name:"bool",size:1,read:e=>1===e.read8(),write:(e,t)=>t.write8(e?1:0),...e,validate:t=>{if(e?.validate?.(t),"boolean"!=typeof t)throw new TypeError("Expected boolean, found "+typeof t)}}),uleb128:e=>function({serialize:e,...t}){const r=new De({...t,serialize:e,write:(e,t)=>{for(const n of r.serialize(e).toBytes())t.write8(n)}});return r}({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(Ee(e)),...e}),bytes:(e,t)=>Pe({name:`bytes[${e}]`,size:e,read:t=>t.readBytes(e),write:(t,r)=>{for(let n=0;n<e;n++)r.write8(t[n]??0)},...t,validate:r=>{if(t?.validate?.(r),!("length"in r))throw new TypeError("Expected array, found "+typeof r);if(r.length!==e)throw new TypeError(`Expected array of length ${e}, found ${r.length}`)}}),string:e=>function({toBytes:e,fromBytes:t,...r}){return new De({...r,read:e=>{const r=e.readULEB(),n=e.readBytes(r);return t(n)},write:(t,r)=>{const n=e(t);r.writeULEB(n.length);for(let e=0;e<n.length;e++)r.write8(n[e])},serialize:t=>{const r=e(t),n=Ee(r.length),i=new Uint8Array(n.length+r.length);return i.set(n,0),i.set(r,n.length),i},validate:e=>{if("string"!=typeof e)throw new TypeError(`Invalid ${r.name} value: ${e}. Expected string`);r.validate?.(e)}})}({name:"string",toBytes:e=>(new TextEncoder).encode(e),fromBytes:e=>(new TextDecoder).decode(e),...e}),fixedArray:(e,t,r)=>new De({name:`${t.name}[${e}]`,read:r=>{const n=new Array(e);for(let i=0;i<e;i++)n[i]=t.read(r);return n},write:(e,r)=>{for(const n of e)t.write(n,r)},...r,validate:t=>{if(r?.validate?.(t),!("length"in t))throw new TypeError("Expected array, found "+typeof t);if(t.length!==e)throw new TypeError(`Expected array of length ${e}, found ${t.length}`)}}),option:e=>st.enum(`Option<${e.name}>`,{None:null,Some:e}).transform({input:e=>null==e?{None:!0}:{Some:e},output:e=>"Some"in e?e.Some:null}),vector:(e,t)=>new De({name:`vector<${e.name}>`,read:t=>{const r=t.readULEB(),n=new Array(r);for(let i=0;i<r;i++)n[i]=e.read(t);return n},write:(t,r)=>{r.writeULEB(t.length);for(const n of t)e.write(n,r)},...t,validate:e=>{if(t?.validate?.(e),!("length"in e))throw new TypeError("Expected array, found "+typeof e)}}),tuple:(e,t)=>new De({name:`(${e.map((e=>e.name)).join(", ")})`,serializedSize:t=>{let r=0;for(let n=0;n<e.length;n++){const i=e[n].serializedSize(t[n]);if(null==i)return null;r+=i}return r},read:t=>{const r=[];for(const n of e)r.push(n.read(t));return r},write:(t,r)=>{for(let n=0;n<e.length;n++)e[n].write(t[n],r)},...t,validate:r=>{if(t?.validate?.(r),!Array.isArray(r))throw new TypeError("Expected array, found "+typeof r);if(r.length!==e.length)throw new TypeError(`Expected array of length ${e.length}, found ${r.length}`)}}),struct(e,t,r){const n=Object.entries(t);return new De({name:e,serializedSize:e=>{let t=0;for(const[r,i]of n){const n=i.serializedSize(e[r]);if(null==n)return null;t+=n}return t},read:e=>{const t={};for(const[r,i]of n)t[r]=i.read(e);return t},write:(e,t)=>{for(const[r,i]of n)i.write(e[r],t)},...r,validate:e=>{if(r?.validate?.(e),"object"!=typeof e||null==e)throw new TypeError("Expected object, found "+typeof e)}})},enum(e,t,r){const n=Object.entries(t);return new De({name:e,read:e=>{const t=e.readULEB(),[r,i]=n[t];return{[r]:i?.read(e)??!0}},write:(e,t)=>{const[r,i]=Object.entries(e)[0];for(let e=0;e<n.length;e++){const[o,s]=n[e];if(o===r)return t.writeULEB(e),void s?.write(i,t)}},...r,validate:e=>{if(r?.validate?.(e),"object"!=typeof e||null==e)throw new TypeError("Expected object, found "+typeof e);const n=Object.keys(e);if(1!==n.length)throw new TypeError(`Expected object with one key, found ${n.length}`);const[i]=n;if(!Object.hasOwn(t,i))throw new TypeError(`Invalid enum variant ${i}`)}})},map:(e,t)=>st.vector(st.tuple([e,t])).transform({name:`Map<${e.name}, ${t.name}>`,input:e=>[...e.entries()],output:e=>{const t=new Map;for(const[r,n]of e)t.set(r,n);return t}}),generic:(e,t)=>(...e)=>t(...e).transform({name:`${t.name}<${e.map((e=>e.name)).join(", ")}>`,input:e=>e,output:e=>e}),lazy:e=>function(e){let t=null;function r(){return t||(t=e()),t}return new De({name:"lazy",read:e=>r().read(e),serializedSize:e=>r().serializedSize(e),write:(e,t)=>r().write(e,t),serialize:(e,t)=>r().serialize(e,t).toBytes()})}(e)},at=32;function ct(e,t=!1){let r=e.toLowerCase();return!t&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(2*at,"0")}`}function ut(e,t=!1){return ct(e,t)}const lt=/^vector<(.+)>$/,ft=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class dt{static parseFromStr(e,t=!1){if("address"===e)return{address:null};if("bool"===e)return{bool:null};if("u8"===e)return{u8:null};if("u16"===e)return{u16:null};if("u32"===e)return{u32:null};if("u64"===e)return{u64:null};if("u128"===e)return{u128:null};if("u256"===e)return{u256:null};if("signer"===e)return{signer:null};const r=e.match(lt);if(r)return{vector:dt.parseFromStr(r[1],t)};const n=e.match(ft);if(n)return{struct:{address:t?ct(n[1]):n[1],module:n[2],name:n[3],typeParams:void 0===n[5]?[]:dt.parseStructTypeArgs(n[5],t)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){return xe(e).map((e=>dt.parseFromStr(e,t)))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${dt.tagToString(e.vector)}>`;if("struct"in e){const t=e.struct,r=t.typeParams.map(dt.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${r?`<${r}>`:""}`}throw new Error("Invalid TypeTag")}}const ht=new ot({genericSeparators:["<",">"],vectorType:"vector",addressLength:32,addressEncoding:"hex",types:{enums:{"Option<T>":{None:null,Some:"T"}}}});function pt(e){return st.u64({name:"unsafe_u64",...e}).transform({input:e=>e,output:e=>Number(e)})}function yt(e){return e.transform({input:e=>({[e.kind]:e}),output:e=>{const t=Object.keys(e)[0];return{kind:t,...e[t]}}})}const mt=st.bytes(at).transform({input:e=>"string"==typeof e?Te(ct(e)):e,output:e=>ct(Se(e))}),gt=st.vector(st.u8()).transform({name:"ObjectDigest",input:e=>ge(e),output:e=>me(new Uint8Array(e))}),wt=st.struct("SuiObjectRef",{objectId:mt,version:st.u64(),digest:gt}),vt=st.struct("SharedObjectRef",{objectId:mt,initialSharedVersion:st.u64(),mutable:st.bool()}),bt=st.enum("ObjectArg",{ImmOrOwned:wt,Shared:vt,Receiving:wt}),Tt=st.enum("CallArg",{Pure:st.vector(st.u8()),Object:bt,ObjVec:st.vector(bt)}),St=st.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:st.lazy((()=>St)),struct:st.lazy((()=>zt)),u16:null,u32:null,u256:null}),Et=yt(st.enum("Argument",{GasCoin:null,Input:st.struct("Input",{index:st.u16()}),Result:st.struct("Result",{index:st.u16()}),NestedResult:st.struct("NestedResult",{index:st.u16(),resultIndex:st.u16()})})),Mt=st.struct("ProgrammableMoveCall",{package:mt,module:st.string(),function:st.string(),type_arguments:st.vector(St),arguments:st.vector(Et)}).transform({input:e=>{const[t,r,n]=e.target.split("::"),i=e.typeArguments.map((e=>dt.parseFromStr(e,!0)));return{package:ct(t),module:r,function:n,type_arguments:i,arguments:e.arguments}},output:e=>({target:[e.package,e.module,e.function].join("::"),arguments:e.arguments,typeArguments:e.type_arguments.map(dt.tagToString)})}),xt=yt(st.enum("Transaction",{MoveCall:Mt,TransferObjects:st.struct("TransferObjects",{objects:st.vector(Et),address:Et}),SplitCoins:st.struct("SplitCoins",{coin:Et,amounts:st.vector(Et)}),MergeCoins:st.struct("MergeCoins",{destination:Et,sources:st.vector(Et)}),Publish:st.struct("Publish",{modules:st.vector(st.vector(st.u8())),dependencies:st.vector(mt)}),MakeMoveVec:st.struct("MakeMoveVec",{type:(Kt=St,st.enum("Option",{None:null,Some:Kt})),objects:st.vector(Et)}),Upgrade:st.struct("Upgrade",{modules:st.vector(st.vector(st.u8())),dependencies:st.vector(mt),packageId:mt,ticket:Et})})),jt=st.struct("ProgrammableTransaction",{inputs:st.vector(Tt),transactions:st.vector(xt)}),At=st.enum("TransactionKind",{ProgrammableTransaction:jt,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),It=st.enum("TransactionExpiration",{None:null,Epoch:pt()}),zt=st.struct("StructTag",{address:mt,module:st.string(),name:st.string(),typeParams:st.vector(St)}),Nt=st.struct("GasData",{payment:st.vector(wt),owner:mt,price:st.u64(),budget:st.u64()}),Ot=st.struct("TransactionDataV1",{kind:At,sender:mt,gasData:Nt,expiration:It}),kt=st.enum("TransactionData",{V1:Ot}),Ut=st.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),Dt=st.enum("IntentVersion",{V0:null}),_t=st.enum("AppId",{Sui:null}),Bt=st.struct("Intent",{scope:Ut,version:Dt,appId:_t}),Pt=st.generic(["T"],(e=>st.struct("IntentMessage<T>",{intent:Bt,value:e}))),$t=st.enum("CompressedSignature",{ED25519:st.fixedArray(64,st.u8()),Secp256k1:st.fixedArray(64,st.u8()),Secp256r1:st.fixedArray(64,st.u8()),ZkLogin:st.vector(st.u8())}),Ct=st.enum("PublicKey",{ED25519:st.fixedArray(32,st.u8()),Secp256k1:st.fixedArray(33,st.u8()),Secp256r1:st.fixedArray(33,st.u8()),ZkLogin:st.vector(st.u8())}),Lt=st.struct("MultiSigPkMap",{pubKey:Ct,weight:st.u8()}),Rt=st.struct("MultiSigPublicKey",{pk_map:st.vector(Lt),threshold:st.u16()}),Vt=st.struct("MultiSig",{sigs:st.vector($t),bitmap:st.u16(),multisig_pk:Rt}),Wt=st.vector(st.u8()).transform({input:e=>"string"==typeof e?we(e):e,output:e=>be(new Uint8Array(e))}),Qt=st.struct("SenderSignedTransaction",{intentMessage:Pt(kt),txSignatures:st.vector(Wt)}),Gt=st.vector(Qt,{name:"SenderSignedData"}),Yt={...st,U8:st.u8(),U16:st.u16(),U32:st.u32(),U64:st.u64(),U128:st.u128(),U256:st.u256(),ULEB128:st.uleb128(),Bool:st.bool(),String:st.string(),Address:mt,Argument:Et,CallArg:Tt,CompressedSignature:$t,GasData:Nt,MultiSig:Vt,MultiSigPkMap:Lt,MultiSigPublicKey:Rt,ObjectArg:bt,ObjectDigest:gt,ProgrammableMoveCall:Mt,ProgrammableTransaction:jt,PublicKey:Ct,SenderSignedData:Gt,SenderSignedTransaction:Qt,SharedObjectRef:vt,StructTag:zt,SuiObjectRef:wt,Transaction:xt,TransactionData:kt,TransactionDataV1:Ot,TransactionExpiration:It,TransactionKind:At,TypeTag:St,ser:ht.ser.bind(ht),de:ht.de.bind(ht),getTypeInterface:ht.getTypeInterface.bind(ht),hasType:ht.hasType.bind(ht),parseTypeName:ht.parseTypeName.bind(ht),registerAddressType:ht.registerAddressType.bind(ht),registerAlias:ht.registerAlias.bind(ht),registerBcsType:ht.registerBcsType.bind(ht),registerEnumType:ht.registerEnumType.bind(ht),registerStructType:ht.registerStructType.bind(ht),registerType:ht.registerType.bind(ht),types:ht.types};var Kt;ht.registerBcsType("utf8string",(()=>st.string({name:"utf8string"}))),ht.registerBcsType("unsafe_u64",(()=>pt())),ht.registerBcsType("enumKind",(e=>yt(e))),[mt,Et,Tt,$t,Nt,Vt,Lt,Rt,bt,gt,Mt,jt,Ct,Gt,vt,zt,wt,xt,kt,Ot,It,At,St].forEach((e=>{ht.registerBcsType(e.name,(()=>e))})),BigInt(1e9);const Ft="0x1",qt=(ut("0x6"),ut("0x5"),tt({digest:nt(),objectId:nt(),version:it([Ze("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${Ve(e)}`)),nt(),Ze("bigint",(e=>"bigint"==typeof e))])})),Zt=it([tt({ImmOrOwned:qt}),tt({Shared:tt({objectId:nt(),initialSharedVersion:it([Xe(),nt()]),mutable:Ze("boolean",(e=>"boolean"==typeof e))})}),tt({Receiving:qt})]),Ht=tt({Pure:Je(Xe())}),Jt=tt({Object:Zt}),Xt=it([Ht,Jt]),er=function(e,t){return{Pure:Array.from(e instanceof Uint8Array?e:(r=e,r&&"object"==typeof r&&!0===r[_e]?e.toBytes():Yt.ser(t,e,{maxSize:1/0}).toBytes()))};var r},tr=({objectId:e,digest:t,version:r})=>({Object:{ImmOrOwned:{digest:t,version:r,objectId:ct(e)}}}),rr=({objectId:e,mutable:t,initialSharedVersion:r})=>({Object:{Shared:{mutable:t,initialSharedVersion:r,objectId:ct(e)}}}),nr=({objectId:e,digest:t,version:r})=>({Object:{Receiving:{digest:t,version:r,objectId:ct(e)}}});function ir(e){return"object"==typeof e&&"MutableReference"in e?e.MutableReference:void 0}function or(e){return"object"==typeof e&&"Reference"in e?e.Reference:void 0}function sr(e){if("object"==typeof e&&"Struct"in e)return e;const t=or(e),r=ir(e);return"object"==typeof t&&"Struct"in t?t:"object"==typeof r&&"Struct"in r?r:void 0}const ar={address:"0x2",module:"object",name:"ID"},cr={address:Ft,module:"ascii",name:"String"},ur={address:Ft,module:"string",name:"String"},lr={address:Ft,module:"option",name:"Option"},fr=(e,t)=>e.address===t.address&&e.module===t.module&&e.name===t.name;function dr(e,t){if(void 0!==t&&typeof t!==e)throw new Error(`Expect ${t} to be ${e}, received ${typeof t}`)}const hr=["Address","Bool","U8","U16","U32","U64","U128","U256"];function pr(e,t){if("string"==typeof e&&hr.includes(e)){if(e in["U8","U16","U32","U64","U128","U256"])dr("number",t);else if("Bool"===e)dr("boolean",t);else if("Address"===e&&(dr("string",t),t&&(!function(e){return/^(0x|0X)?[a-fA-F0-9]+$/.test(e)&&e.length%2==0}(t)||function(e){return/^(0x|0X)/.test(e)?(e.length-2)/2:e.length/2}(r)!==at)))throw new Error("Invalid Sui Address");return e.toLowerCase()}var r;if("string"==typeof e)throw new Error(`Unknown pure normalized type ${JSON.stringify(e,null,2)}`);if("Vector"in e){if((void 0===t||"string"==typeof t)&&"U8"===e.Vector)return"string";if(void 0!==t&&!Array.isArray(t))throw new Error(`Expect ${t} to be a array, received ${typeof t}`);const r=pr(e.Vector,t?t[0]:void 0);if(void 0===r)return;return`vector<${r}>`}if("Struct"in e){if(fr(e.Struct,cr))return"string";if(fr(e.Struct,ur))return"utf8string";if(fr(e.Struct,ar))return"address";if(fr(e.Struct,lr))return pr({Vector:e.Struct.typeArguments[0]},t)}}const yr=it([tt({kind:et("Input"),index:Xe(),value:rt(He()),type:rt(et("object"))}),tt({kind:et("Input"),index:Xe(),value:rt(He()),type:et("pure")})]),mr=it([yr,tt({kind:et("GasCoin")}),tt({kind:et("Result"),index:Xe()}),tt({kind:et("NestedResult"),index:Xe(),resultIndex:Xe()})]),gr=tt({kind:et("MoveCall"),target:Ze("target",nt().validator),typeArguments:Je(nt()),arguments:Je(mr)}),wr=tt({kind:et("TransferObjects"),objects:Je(mr),address:mr}),vr=tt({kind:et("SplitCoins"),coin:mr,amounts:Je(mr)}),br=tt({kind:et("MergeCoins"),destination:mr,sources:Je(mr)}),Tr=tt({kind:et("MakeMoveVec"),type:rt((Er=nt(),Mr=Ze("unknown",(()=>!0)),Sr=new Ye({type:"record",schema:null,*entries(e){if(Re(e))for(const t in e){const r=e[t];yield[t,t,Er],yield[t,r,Mr]}},validator:e=>Re(e)||`Expected an object, but received: ${Ve(e)}`}),it([tt({None:it([et(!0),et(null)])}),tt({Some:Sr})]))),objects:Je(mr)});var Sr,Er,Mr;const xr=tt({kind:et("Publish"),modules:Je(Je(Xe())),dependencies:Je(nt())});var jr;!function(e){e[e.COMPATIBLE=0]="COMPATIBLE",e[e.ADDITIVE=128]="ADDITIVE",e[e.DEP_ONLY=192]="DEP_ONLY"}(jr||(jr={}));it([...[gr,wr,vr,br,xr,tt({kind:et("Upgrade"),modules:Je(Je(Xe())),dependencies:Je(nt()),packageId:nt(),ticket:mr}),Tr]]);var Ar,Ir,zr,Nr=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};const Or={maxPureArgumentSize:16384,maxTxGas:5e10,maxGasObjects:256,maxTxSizeBytes:131072};function kr(e){if(!e.client)throw new Error("No provider passed to Transaction#build, but transaction data was not sufficient to build offline.");return e.client}const Ur=Symbol.for("@mysten/transaction"),Dr={maxTxGas:"max_tx_gas",maxGasObjects:"max_gas_payment_objects",maxTxSizeBytes:"max_tx_size_bytes",maxPureArgumentSize:"max_pure_argument_size"};function _r(e){return!!e&&"object"==typeof e&&!0===e[Ur]}class Br{static fromKind(e){const t=new Br;return TransactionBlock_classPrivateFieldSet(t,Ir,TransactionBlockDataBuilder.fromKindBytes("string"==typeof e?fromB64(e):e),"f"),t}static from(e){const t=new Br;return"string"==typeof e&&e.startsWith("{")?TransactionBlock_classPrivateFieldSet(t,Ir,TransactionBlockDataBuilder.restore(JSON.parse(e)),"f"):TransactionBlock_classPrivateFieldSet(t,Ir,TransactionBlockDataBuilder.fromBytes("string"==typeof e?fromB64(e):e),"f"),t}setSender(e){Nr(this,Ir,"f").sender=e}setSenderIfNotSet(e){Nr(this,Ir,"f").sender||(Nr(this,Ir,"f").sender=e)}setExpiration(e){Nr(this,Ir,"f").expiration=e}setGasPrice(e){Nr(this,Ir,"f").gasConfig.price=String(e)}setGasBudget(e){Nr(this,Ir,"f").gasConfig.budget=String(e)}setGasOwner(e){Nr(this,Ir,"f").gasConfig.owner=e}setGasPayment(e){Nr(this,Ir,"f").gasConfig.payment=e.map((e=>mask(e,SuiObjectRef)))}get blockData(){return Nr(this,Ir,"f").snapshot()}get[(Ir=new WeakMap,Ar=new WeakSet,Ur)](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:createPure(((e,t)=>isSerializedBcs(e)?Nr(this,Ar,"m",_TransactionBlock_input).call(this,"pure",{Pure:Array.from(e.toBytes())}):Nr(this,Ar,"m",_TransactionBlock_input).call(this,"pure",e instanceof Uint8Array?Inputs.Pure(e):t?Inputs.Pure(e,t):e)))}),this.pure}constructor(e){Ar.add(this),Ir.set(this,void 0),TransactionBlock_classPrivateFieldSet(this,Ir,new TransactionBlockDataBuilder(e?e.blockData:void 0),"f")}get gas(){return{kind:"GasCoin"}}object(e){if("object"==typeof e&&"kind"in e)return e;const t=getIdFromCallArg(e),r=Nr(this,Ir,"f").inputs.find((e=>"object"===e.type&&t===getIdFromCallArg(e.value)));return r&&is(r.value,ObjectCallArg)&&"Shared"in r.value.Object&&is(e,ObjectCallArg)&&"Shared"in e.Object&&(r.value.Object.Shared.mutable=r.value.Object.Shared.mutable||e.Object.Shared.mutable),r??Nr(this,Ar,"m",_TransactionBlock_input).call(this,"object","string"==typeof e?normalizeSuiAddress(e):e)}objectRef(...e){return this.object(Inputs.ObjectRef(...e))}receivingRef(...e){return this.object(Inputs.ReceivingRef(...e))}sharedObjectRef(...e){return this.object(Inputs.SharedObjectRef(...e))}add(e){return function(e){const t=[],r=r=>t[r]??(t[r]={kind:"NestedResult",index:e,resultIndex:r});return new Proxy({kind:"Result",index:e},{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(e,t){if(t in e)return Reflect.get(e,t);if(t===Symbol.iterator)return function*(){for(;;)yield r(0)};if("symbol"==typeof t)return;const n=parseInt(t,10);return Number.isNaN(n)||n<0?void 0:r(n)}})}(Nr(this,Ir,"f").transactions.push(e)-1)}splitCoins(e,t){return this.add(Transactions.SplitCoins("string"==typeof e?this.object(e):e,t.map((e=>"number"==typeof e||"bigint"==typeof e||"string"==typeof e?this.pure.u64(e):Nr(this,Ar,"m",_TransactionBlock_normalizeTransactionArgument).call(this,e)))))}mergeCoins(e,t){return this.add(Transactions.MergeCoins("string"==typeof e?this.object(e):e,t.map((e=>"string"==typeof e?this.object(e):e))))}publish({modules:e,dependencies:t}){return this.add(Transactions.Publish({modules:e,dependencies:t}))}upgrade({modules:e,dependencies:t,packageId:r,ticket:n}){return this.add(Transactions.Upgrade({modules:e,dependencies:t,packageId:r,ticket:"string"==typeof n?this.object(n):n}))}moveCall({arguments:e,typeArguments:t,target:r}){return this.add(Transactions.MoveCall({arguments:e?.map((e=>Nr(this,Ar,"m",_TransactionBlock_normalizeTransactionArgument).call(this,e))),typeArguments:t,target:r}))}transferObjects(e,t){return this.add(Transactions.TransferObjects(e.map((e=>"string"==typeof e?this.object(e):e)),"string"==typeof t?this.pure.address(t):Nr(this,Ar,"m",_TransactionBlock_normalizeTransactionArgument).call(this,t)))}makeMoveVec({type:e,objects:t}){return this.add(Transactions.MakeMoveVec({type:e,objects:t.map((e=>"string"==typeof e?this.object(e):e))}))}serialize(){return JSON.stringify(Nr(this,Ir,"f").snapshot())}async sign(e){const{signer:t,...r}=e,n=await this.build(r);return t.signTransactionBlock(n)}async build(e={}){return await Nr(this,Ar,"m",_TransactionBlock_prepare).call(this,e),Nr(this,Ir,"f").build({maxSizeBytes:Nr(this,Ar,"m",zr).call(this,"maxTxSizeBytes",e),onlyTransactionKind:e.onlyTransactionKind})}async getDigest(e={}){return await Nr(this,Ar,"m",_TransactionBlock_prepare).call(this,e),Nr(this,Ir,"f").getDigest()}}zr=function(e,{protocolConfig:t,limits:r}){if(r&&"number"==typeof r[e])return r[e];if(!t)return Or[e];const n=t?.attributes[Dr[e]];if(!n)throw new Error(`Missing expected protocol config: "${Dr[e]}"`);const i="u64"in n?n.u64:"u32"in n?n.u32:n.f64;if(!i)throw new Error(`Unexpected protocol config value found for: "${Dr[e]}"`);return Number(i)};const Pr="sui:devnet",$r="sui:testnet",Cr="sui:localnet",Lr="sui:mainnet",Rr=[Pr,$r,Cr,Lr];var Vr,Wr,Qr,Gr,Yr,Kr,Fr=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},qr=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class Zr{constructor(e){Vr.set(this,void 0),Wr.set(this,void 0),Qr.set(this,void 0),Gr.set(this,void 0),Yr.set(this,void 0),Kr.set(this,void 0),new.target===Zr&&Object.freeze(this),Fr(this,Vr,e.address,"f"),Fr(this,Wr,e.publicKey.slice(),"f"),Fr(this,Qr,e.chains.slice(),"f"),Fr(this,Gr,e.features.slice(),"f"),Fr(this,Yr,e.label,"f"),Fr(this,Kr,e.icon,"f")}get address(){return qr(this,Vr,"f")}get publicKey(){return qr(this,Wr,"f").slice()}get chains(){return qr(this,Qr,"f").slice()}get features(){return qr(this,Gr,"f").slice()}get label(){return qr(this,Yr,"f")}get icon(){return qr(this,Kr,"f")}}Vr=new WeakMap,Wr=new WeakMap,Qr=new WeakMap,Gr=new WeakMap,Yr=new WeakMap,Kr=new WeakMap;var Hr=w((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}})),Jr=new W((function(e){return e.complete()}));function Xr(e,t){return r=e.pipe(1<=0?function(){return Jr}:F((function(e,t){var r=0;e.subscribe(q(t,(function(e){++r<=1&&(t.next(e),1<=r&&t.complete())})))})),H((e=>{if(e&&"error"in(r=e)&&!0===r.error)throw new Error(e.message);var r;return t(e)}))),new Promise((function(e,t){var n,i=!1;r.subscribe({next:function(e){n=e,i=!0},error:t,complete:function(){i?e(n):t(new Hr)}})}));var r}var en,tn,rn,nn,on,sn,an,cn,un,ln,fn,dn,hn,pn,yn,mn,gn,wn,vn,bn,Tn,Sn=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},En=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};const Mn={[de.local]:Cr,[de.devNet]:Pr,[de.testNet]:$r,[de.mainnet]:Lr};tn=new WeakMap,rn=new WeakMap,nn=new WeakMap,on=new WeakMap,sn=new WeakMap,an=new WeakMap,un=new WeakMap,ln=new WeakMap,fn=new WeakMap,dn=new WeakMap,hn=new WeakMap,pn=new WeakMap,yn=new WeakMap,bn=new WeakMap,en=new WeakSet,cn=function(e){En(this,on,e.map((({address:e,publicKey:t,nickname:r})=>new Zr({address:e,label:r||void 0,publicKey:t?we(t):new Uint8Array,chains:Sn(this,an,"f")?[Sn(this,an,"f")]:[],features:["sui:signAndExecuteTransaction"]}))),"f")},mn=function(e){return Xr(Sn(this,en,"m",Tn).call(this,{type:"has-permissions-request",permissions:e}),(({result:e})=>e))},gn=function(){return Xr(Sn(this,en,"m",Tn).call(this,{type:"get-account"}),(e=>e.accounts))},wn=function(){return Xr(Sn(this,en,"m",Tn).call(this,{type:"get-network"}),(({network:e})=>e))},vn=function({env:e}){En(this,an,e===de.customRPC?"sui:unknown":Mn[e],"f")},Tn=function(e,t){const r=function(e,t){return{id:t||c(),payload:e}}(e,t);return Sn(this,sn,"f").send(r),Sn(this,sn,"f").messages.pipe(oe((({id:e})=>e===r.id)),H((e=>e.payload)))},function(e){const r=({register:t})=>t(e);try{window.dispatchEvent(new t(r))}catch(e){console.error("wallet-standard:register-wallet event could not be dispatched\n",e)}try{window.addEventListener("wallet-standard:app-ready",(({detail:e})=>r(e)))}catch(e){console.error("wallet-standard:app-ready event listener could not be added\n",e)}}(new class{get version(){return Sn(this,rn,"f")}get name(){return Sn(this,nn,"f")}get icon(){return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzIiIGhlaWdodD0iNzIiIHZpZXdCb3g9IjAgMCA3MiA3MiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjcyIiByeD0iMTYiIGZpbGw9IiM2RkJDRjAiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMC40MjEzIDUyLjc4MzhDMjMuNjQ5NiA1OC4zNzYgMjkuNDMyMSA2MS43MTQyIDM1Ljg4ODggNjEuNzE0MkM0Mi4zNDU1IDYxLjcxNDIgNDguMTI3IDU4LjM3NiA1MS4zNTY0IDUyLjc4MzhDNTQuNTg0OCA0Ny4xOTI2IDU0LjU4NDggNDAuNTE2MyA1MS4zNTY0IDM0LjkyNEwzNy43NTI0IDExLjM2MTVDMzYuOTI0MSA5LjkyNzAxIDM0Ljg1MzUgOS45MjcwMSAzNC4wMjUzIDExLjM2MTVMMjAuNDIxMyAzNC45MjRDMTcuMTkyOSA0MC41MTUyIDE3LjE5MjkgNDcuMTkxNSAyMC40MjEzIDUyLjc4MzhaTTMyLjA1NjYgMjIuNTcxM0wzNC45NTcxIDE3LjU0NzRDMzUuMzcxMiAxNi44MzAxIDM2LjQwNjUgMTYuODMwMSAzNi44MjA2IDE3LjU0NzRMNDcuOTc5MSAzNi44NzQ4QzUwLjAyOTEgNDAuNDI1NCA1MC40MTM5IDQ0LjUzNSA0OS4xMzM1IDQ4LjI5NTRDNDkuMDAwMiA0Ny42ODE5IDQ4LjgxMzggNDcuMDU0MiA0OC41NjI2IDQ2LjQyMDFDNDcuMDIxMyA0Mi41MzA0IDQzLjUzNjMgMzkuNTI4OSAzOC4yMDIzIDM3LjQ5ODJDMzQuNTM1MSAzNi4xMDcxIDMyLjE5NDMgMzQuMDYxMyAzMS4yNDMxIDMxLjQxNzFDMzAuMDE4IDI4LjAwODkgMzEuMjk3NiAyNC4yOTI0IDMyLjA1NjYgMjIuNTcxM1pNMjcuMTEwNyAzMS4xMzc5TDIzLjc5ODYgMzYuODc0OEMyMS4yNzQ4IDQxLjI0NTkgMjEuMjc0OCA0Ni40NjQxIDIzLjc5ODYgNTAuODM1M0MyNi4zMjIzIDU1LjIwNjQgMzAuODQxMyA1Ny44MTUgMzUuODg4OCA1Ny44MTVDMzkuMjQxMyA1Ny44MTUgNDIuMzYxNSA1Ni42NjMzIDQ0LjgxODQgNTQuNjA4OEM0NS4xMzg4IDUzLjgwMjEgNDYuMTMxIDUwLjg0OTIgNDQuOTA1MiA0Ny44MDU4QzQzLjc3MyA0NC45OTU0IDQxLjA0ODIgNDIuNzUxOSAzNi44MDYxIDQxLjEzNkMzMi4wMTEgMzkuMzE3MSAyOC44OTU4IDM2LjQ3NzQgMjcuNTQ4NiAzMi42OTg0QzI3LjM2MzEgMzIuMTc4MSAyNy4yMTg5IDMxLjY1NjggMjcuMTEwNyAzMS4xMzc5WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+"}get chains(){return Rr}get features(){return{"standard:connect":{version:"1.0.0",connect:Sn(this,fn,"f")},"standard:events":{version:"1.0.0",on:Sn(this,un,"f")},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:Sn(this,dn,"f")},"sui:signAndExecuteTransactionBlock":{version:"1.0.0",signAndExecuteTransactionBlock:Sn(this,hn,"f")},"sui:signMessage":{version:"1.0.0",signMessage:Sn(this,pn,"f")},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:Sn(this,yn,"f")},"qredo:connect":{version:"0.0.1",qredoConnect:Sn(this,bn,"f")}}}get accounts(){return Sn(this,on,"f")}constructor(){var e;en.add(this),tn.set(this,void 0),rn.set(this,"1.0.0"),nn.set(this,"Sui Wallet"),on.set(this,void 0),sn.set(this,void 0),an.set(this,null),un.set(this,((e,t)=>(Sn(this,tn,"f").on(e,t),()=>Sn(this,tn,"f").off(e,t)))),ln.set(this,(async()=>{if(Sn(this,en,"m",vn).call(this,await Sn(this,en,"m",wn).call(this)),!await Sn(this,en,"m",mn).call(this,["viewAccount"]))return;const e=await Sn(this,en,"m",gn).call(this);Sn(this,en,"m",cn).call(this,e),Sn(this,on,"f").length&&Sn(this,tn,"f").emit("change",{accounts:this.accounts})})),fn.set(this,(async e=>(e?.silent||await Xr(Sn(this,en,"m",Tn).call(this,{type:"acquire-permissions-request",permissions:fe}),(e=>e.result)),await Sn(this,ln,"f").call(this),{accounts:this.accounts}))),dn.set(this,(async({transactionBlock:e,account:t,...r})=>{if(!_r(e))throw new Error("Unexpect transaction format found. Ensure that you are using the `Transaction` class.");return Xr(Sn(this,en,"m",Tn).call(this,{type:"sign-transaction-request",transaction:{...r,account:t?.address||Sn(this,on,"f")[0]?.address||"",transaction:e.serialize()}}),(e=>e.result))})),hn.set(this,(async e=>{if(!_r(e.transactionBlock))throw new Error("Unexpect transaction format found. Ensure that you are using the `Transaction` class.");return Xr(Sn(this,en,"m",Tn).call(this,{type:"execute-transaction-request",transaction:{type:"transaction",data:e.transactionBlock.serialize(),options:e.options,account:e.account?.address||Sn(this,on,"f")[0]?.address||""}}),(e=>e.result))})),pn.set(this,(async({message:e,account:t})=>Xr(Sn(this,en,"m",Tn).call(this,{type:"sign-message-request",args:{message:be(e),accountAddress:t.address}}),(e=>{if(!e.return)throw new Error("Invalid sign message response");return e.return})))),yn.set(this,(async({message:e,account:t})=>Xr(Sn(this,en,"m",Tn).call(this,{type:"sign-message-request",args:{message:be(e),accountAddress:t.address}}),(e=>{if(!e.return)throw new Error("Invalid sign message response");return{bytes:e.return.messageBytes,signature:e.return.signature}})))),bn.set(this,(async e=>{if(!await Xr(Sn(this,en,"m",Tn).call(this,{type:"qredo-connect",method:"connect",args:{...e}}),(e=>{if("connectResponse",!(he(t=e)&&"qredo-connect"===t.type&&"method"in t&&"connectResponse"===t.method&&"args"in t&&t.args))throw new Error("Invalid qredo connect response");var t;return e.args.allowed})))throw new Error("Rejected by user")})),En(this,tn,{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map((function(e){e(r)})),(n=e.get("*"))&&n.slice().map((function(e){e(t,r)}))}},"f"),En(this,on,[],"f"),En(this,sn,new le("sui_in-page","sui_content-script"),"f"),Sn(this,sn,"f").messages.subscribe((({payload:e})=>{if(function(e){return he(e)&&"wallet-status-changed"===e.type}(e)){const{network:t,accounts:r}=e;t&&(Sn(this,en,"m",vn).call(this,t),r||En(this,on,Sn(this,on,"f").map((({address:e,features:t,icon:r,label:n,publicKey:i})=>new Zr({address:e,publicKey:i,chains:Sn(this,an,"f")?[Sn(this,an,"f")]:[],features:t,label:n,icon:r}))),"f")),r&&Sn(this,en,"m",cn).call(this,r),Sn(this,tn,"f").emit("change",{accounts:this.accounts})}}))}})})()})();
//# sourceMappingURL=dapp-interface.js.map